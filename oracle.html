<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>Mystic Sister Oracle</title> <style> body { background-color: #FFFBF5; color: #000; font-family: 'Georgia', serif; line-height: 1.5; margin: 0; padding: 20px; text-align: left; /* whole page left-aligned */ overflow-x: hidden; } /* centered header area */ #top-center { margin-top: 30%; text-align: center; } #listening { font-style: italic; font-size: 1.2em; } #loading { display: none; margin-top: 16px; } #loading img { width: 120px; height: auto; opacity: 0.9; } /* response container: block centered, text left-aligned */ #response { display: none; animation: fadeIn 300ms ease-in; margin-top: 40px; max-width: 640px; margin-left: auto; margin-right: auto; white-space: pre-wrap; text-align: left; } #response * { text-align: left !important; } /* tighten paragraph spacing for any <p> elements */ #response p { margin-top: 0.5em; margin-bottom: 0.5em; } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } </style> </head> <body> <!-- centered header area --> <div id="top-center"> <div id="listening"><em>Sister is listening...</em></div> <div id="loading"> <img src="assets/loading.gif" alt="Loading..." /> </div> </div> <!-- left-aligned response text (container centered) --> <div id="response"></div> <script> const loadingEl = document.getElementById('loading'); const responseEl = document.getElementById('response'); function showLoading() { loadingEl.style.display = 'block'; responseEl.style.display = 'none'; responseEl.innerHTML = ''; } function showResponse(msg) { loadingEl.style.display = 'none'; responseEl.style.display = 'block'; // normalize paragraph spacing: collapse 2+ newlines into 1 const cleaned = msg.replace(/\n{2,}/g, '\n'); responseEl.innerHTML = cleaned; } function resetOracle() { loadingEl.style.display = 'none'; responseEl.style.display = 'none'; responseEl.innerHTML = ''; } // initial state resetOracle(); // Thunkable â†’ Web Viewer messages: // "loading" shows gif // "reset" hides gif/response // anything else = AI reply html/text window.addEventListener('message', (event) => { const data = event.data; if (typeof data !== 'string') return; const t = data.trim().toLowerCase(); if (t === 'reset') { resetOracle(); } else if (t === 'loading') { showLoading(); } else { showResponse(data); } }); </script> </body> </html>
